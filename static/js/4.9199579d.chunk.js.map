{"version":3,"sources":["pages/dashboard/analytics/index.js"],"names":["Panel","DashboardAnalytics","props","_this","Object","_Users_tawatchai_Desktop_dashboard_FFC_REPORT_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","this","_Users_tawatchai_Desktop_dashboard_FFC_REPORT_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_12__","_Users_tawatchai_Desktop_dashboard_FFC_REPORT_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_13__","call","state","dataSource","pyramid01","user","chronic","hospital","isLoaded","error","handleValidSubmit","bind","_Users_tawatchai_Desktop_dashboard_FFC_REPORT_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_14__","_this2","fetch","then","res","json","setState","value","_this3","organization","find","item","name","undefined","idOption","id","console","log","concat","_this$state","map","object","submit","react__WEBPACK_IMPORTED_MODULE_18___default","a","createElement","message","myArrStr","byAge","active","byActive","piechronic","byIcd10","y","chronicpiechart","data1","peple","age","female","male","Math","abs","date","moment","tz","Highcharts","setOptions","lang","thousandsSep","optionspyramid","chart","type","credits","enabled","colors","title","text","subtitle","xAxis","categories","reversed","labels","step","opposite","linkedTo","yAxis","formatter","plotOptions","series","stacking","tooltip","point","category","numberFormat","data","pieChartelderly","plotBackgroundColor","plotBorderWidth","plotShadow","pointFormat","pie","allowPointSelect","cursor","dataLabels","format","colorByPoint","pieChartchronics","className","antd_es_auto_complete__WEBPACK_IMPORTED_MODULE_5__","style","width","Color","onChange","defaultValue","placeholder","filterOption","inputValue","option","children","toUpperCase","indexOf","antd_es_input__WEBPACK_IMPORTED_MODULE_7__","suffix","antd_es_icon__WEBPACK_IMPORTED_MODULE_9__","antd_es_button__WEBPACK_IMPORTED_MODULE_3__","onClick","refreshPage","window","location","reload","highcharts_react_official__WEBPACK_IMPORTED_MODULE_22___default","highcharts","options","loading","height","borderColor","toLocaleString","total","antd_es_collapse__WEBPACK_IMPORTED_MODULE_17__","key","header","antd_es_table__WEBPACK_IMPORTED_MODULE_1__","columns","dataIndex","bordered","OK","MID","VERYHI","UNKNOWN","react_helmet__WEBPACK_IMPORTED_MODULE_19__","React","Component"],"mappings":"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","file":"static/js/4.9199579d.chunk.js","sourcesContent":["import React from 'react'\nimport { Helmet } from 'react-helmet'\n// import Chart6 from 'components/widgets/Charts/6'\n// import Chart4 from 'components/widgets/Charts/4'\nimport moment from 'moment-timezone'\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport { AutoComplete, Button, Icon, Input, Table, Collapse } from 'antd';\n\nconst { Panel } = Collapse;\n\nclass DashboardAnalytics extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataSource: [],\n      pyramid01: [],\n      user: [],\n      chronic: [],\n      hospital: '',\n      isLoaded: false,\n      error: null,\n    }\n    this.handleValidSubmit = this.handleValidSubmit.bind(this);\n  }\n\n  componentDidMount() {\n\n    // ชื่อกับ id\n    fetch(`https://report-api.ffc.in.th/report/convert`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          dataSource: json\n        });\n      })\n\n    // กราฟ ปิรามิด\n    fetch(`https://report-api.ffc.in.th/report/pyramid`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          pyramid01: json,\n          isLoaded: true,\n        });\n      },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n    // pie อัตราส่วนผู้สูงอายุ\n    fetch(`https://report-api.ffc.in.th/report/elderlyrat`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          user: json,\n          isLoaded: true\n        });\n      })\n\n    // piechart โรคเรื้อรัง\n    fetch(`https://report-api.ffc.in.th/report/chronic`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          chronic: json,\n          isLoaded: true\n        });\n      })\n  }\n\n  handleValidSubmit(value) {\n    const { dataSource } = this.state;\n    const organization = dataSource.find((item) => {\n      return item.name === value\n    })\n    if (organization !== undefined) {\n      const idOption = organization.id\n      console.log(idOption, 'ooooo');\n      fetch(`https://report-api.ffc.in.th/report/pyramid/${idOption}`)\n        .then(res => res.json())\n        .then(json => {\n          this.setState({\n            pyramid01: json,\n            hospital: value\n          });\n          console.log(json, '====');\n        })\n\n      fetch(`https://report-api.ffc.in.th/report/elderlyrat/${idOption}`)\n        .then(res => res.json())\n        .then(json => {\n          this.setState({\n            user: json,\n            hospital: value\n          });\n        })\n\n      fetch(`https://report-api.ffc.in.th/report/chronic/${idOption}`)\n        .then(res => res.json())\n        .then(json => {\n          this.setState({\n            chronic: json,\n            hospital: value\n          });\n        })\n    }\n  }\n\n  render() {\n    const {\n      pyramid01,\n      dataSource,\n      chronic,\n      hospital,\n      user,\n      isLoaded,\n      error\n    } = this.state;\n    console.log(chronic, 'chronic');\n    const name = dataSource.map(object => object.name);\n    const submit = this.handleValidSubmit;\n    function refreshPage() {\n      window.location.reload();\n      console.log(refreshPage, 'option');\n\n    }\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } if (!isLoaded) {\n      return <div>Loading...</div>;\n    }\n\n    function callback(key) {\n      console.log(key);\n    }\n\n    function Complete() {\n      return (\n        <AutoComplete\n          style={{ width: 400, Color: '#000' }}\n          onChange={submit}\n          dataSource={name}\n          defaultValue={hospital}\n          placeholder=\"ค้นหาหน่วยงาน\"\n          filterOption={(inputValue, option) =>\n            option.props.children.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\n          }\n        >\n          <Input suffix={<Icon type=\"search\" className=\"certain-category-icon\" />} />\n        </AutoComplete>\n      );\n    }\n\n    // กราฟ ปิรามิด\n    const myArrStr = pyramid01.byAge;\n    const active = user.byActive;\n    const piechronic = chronic.byIcd10\n\n    if (piechronic !== undefined) {\n      piechronic.map(item => (\n        console.log(item.y, 'popiij')\n      ));\n\n      const chronicpiechart = piechronic.map(object => ({\n        name: object.name,\n        y: object.y,\n      }));\n      const columns = [\n        // {\n        //   title: \"ลำดับ\",\n        //   dataIndex: 'key'\n        // },\n        {\n          title: 'ชื่อ',\n          dataIndex: 'name',\n          key: '1',\n        },\n        {\n          title: 'จำนวน',\n          dataIndex: 'y',\n          key: '1',\n        },\n      ];\n\n      if (active !== undefined) {\n        const data1 = active.map(object => ({\n          name: object.name,\n          y: object.peple,\n        }));\n\n        if (myArrStr !== undefined) {\n          const age = myArrStr.map(item => { return item.age })\n          const female = myArrStr.map(item => { return item.female })\n          const male = myArrStr.map(item => -Math.abs((item.male)))\n          const date = moment(pyramid01.date).tz('Asia/Bangkok')\n\n          Highcharts.setOptions({\n            lang: {\n              thousandsSep: ','\n            }\n          });\n\n          // ปิรามิดประชากร ทั้งหมด\n          const optionspyramid = {\n            chart: {\n              type: 'bar',\n              // plotBackgroundImage: 'resources/images/bg_pop.png'\n            },\n            credits: {\n              enabled: false\n            },\n            colors: ['#008FFB', '#FF4560'],\n            title: {\n              text: hospital !== '' ? `ปิรามิดประชากร</b></b></br><br/>${hospital}` : 'ปิรามิดหน่วยงานทั้งหมด',\n            },\n            subtitle: {\n              text: null\n            },\n            xAxis: [{\n              categories: age,\n              reversed: false,\n              labels: {\n                step: 1\n              }\n            }, { // อายุอีกฝั่ง\n              opposite: true,\n              reversed: false,\n              categories: age,\n\n              linkedTo: 0,\n              labels: {\n                step: 1\n              }\n            }],\n            yAxis: {\n              title: {\n                text: null\n              },\n              labels: {\n                formatter() {\n                  return Math.abs(this.value)\n                }\n              }\n            },\n            plotOptions: {\n              series: {\n                stacking: 'normal',\n              }\n            },\n            lang: {\n              thousandsSep: ','\n            },\n            tooltip: {\n              formatter() {\n                return `<b>${this.series.name}, ช่วงอายุ ${this.point.category}</b><br/>` +\n                  `จำนวน:${Highcharts.numberFormat(Math.abs(this.point.y), 0)}`;\n              }\n            },\n            series: [\n              {\n                name: \"ชาย\",\n                data: male,\n              },\n              {\n                name: \"หญิง\",\n                data: female\n              }\n            ]\n          }\n\n          // piechart ผู้สูงอายุ 60 ปีขึ้นไป\n          const pieChartelderly = {\n            chart: {\n              plotBackgroundColor: null,\n              plotBorderWidth: null,\n              plotShadow: false,\n              type: 'pie'\n            },\n            credits: {\n              enabled: false\n            },\n            colors: ['rgb(144, 237, 125)', 'rgb(247, 163, 92)', '#FF4560', '#333333',],\n            title: {\n              text: hospital !== '' ? `กลุ่มผู้สูงอายุ 60 ปีขึ้นไป</b></br><br/>${hospital}` : 'กลุ่มผู้สูงอายุ 60 ปีขึ้นไป</br></br>หน่วยงานทั้งหมด',\n            },\n            tooltip: {\n              pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n            },\n            plotOptions: {\n              pie: {\n                allowPointSelect: true,\n                cursor: 'pointer',\n                dataLabels: {\n                  enabled: true,\n                  format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n                }\n              }\n            },\n            series: [{\n              name: 'จำนวน',\n              colorByPoint: true,\n              data: data1\n            }]\n          }\n\n          const pieChartchronics = {\n            chart: {\n              plotBackgroundColor: null,\n              plotBorderWidth: null,\n              plotShadow: false,\n              type: 'pie'\n            },\n            credits: {\n              enabled: false\n            },\n            colors: ['rgb(144, 237, 125)', 'rgb(247, 163, 92)', '#FF4560', '#333333', '#008FFB'],\n            title: {\n              // text: `ผู้ป่วยโรคเรื้อรัง</br></b><br/>${hospital}`\n              text: hospital !== '' ? `ผู้ป่วยโรคเรื้อรัง</b></br><br/>${hospital}` : 'ผู้ป่วยโรคเรื้อรังทั้งหมด',\n            },\n            tooltip: {\n              pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n            },\n            plotOptions: {\n              pie: {\n                allowPointSelect: true,\n                cursor: 'pointer',\n                dataLabels: {\n                  enabled: false\n                },\n                // showInLegend: true\n              }\n            },\n            series: [{\n              name: 'จำนวน',\n              colorByPoint: true,\n              data: chronicpiechart\n            }]\n          }\n\n          return (\n            <div>\n              <div className=\"row\">\n                <div className=\"col-lg-12\">\n                  <Complete />&nbsp; &nbsp; &nbsp;\n                  <Button type=\"button\" onClick={refreshPage}> <span>หน่วยงานทั้งหมด</span> </Button>\n                </div>\n              </div>\n              <div className=\"col-xl-12\">\n                <br />\n                <br />\n                <br />\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <HighchartsReact highcharts={Highcharts} options={optionspyramid} loading={isLoaded} style={{ width: \"100%\", height: \"400px\" }} />\n                    <div className=\"d-flex flex-wrap\">\n                      <div className=\"mr-5 mb-2\">\n                        <div className=\"text-nowrap text-uppercase text-gray-4\">\n                          <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#008ffb' }} />\n                          ชาย\n                        </div>\n                        <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.male.toLocaleString()}</div>\n                      </div>\n                      <div className=\"mr-5 mb-2\">\n                        <div className=\"text-nowrap text-uppercase text-gray-4\">\n                          <div className=\"air__utils__donut air__utils__donut--danger\" />\n                          หญิง\n                        </div>\n                        <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.female.toLocaleString()}</div>\n                      </div>\n                      {/* {(pyramid01.total !== 0) && ( */}\n                      <div className=\"mr-5 mb-2\">\n                        <div className=\"text-nowrap text-uppercase text-gray-4\">\n                          <div className=\"air__utils__donut air__utils__donut--success\" />\n                          ประชากรทั้งหมด\n                        </div>\n                        <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.total.toLocaleString()}</div>\n                      </div>\n                      {/* ) */}\n                      {/* } */}\n                      <div className=\"mr-5 mb-2\">\n                        <div className=\"text-nowrap text-uppercase text-gray-4\">\n                          <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#ffff99' }} />\n                          รายงานเมื่อ\n                        </div>\n                        <div className=\"font-weight-bold font-size-18 text-dark\">{date.format('DD MMMM YYYY HH:mm:ss')}</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <br />\n              <div className=\"row\">\n                <div className=\"col-xl-6 col-lg-6\">\n                  <div className=\"card\">\n                    <div className=\"card-body\">\n                      <HighchartsReact highcharts={Highcharts} options={pieChartchronics} style={{ width: \"100%\", height: \"400px\" }} />\n                      <Collapse onChange={callback}>\n                        <Panel header=\"จำนวนผู้ป่วยโรคเรื้อรัง (กดดูรายละเอียด)\" key=\"1\">\n                          <Table dataSource={chronicpiechart} columns={columns} bordered />\n                        </Panel>\n                      </Collapse>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-xl-5 col-lg-5\">\n                  <div className=\"card\">\n                    <div className=\"card-body\">\n                      <HighchartsReact highcharts={Highcharts} options={pieChartelderly} style={{ width: \"100%\", height: \"400px\" }} />\n                      <div className=\"d-flex flex-wrap\">\n                        <div className=\"mr-4 mb-2\">\n                          <div className=\"text-nowrap text-uppercase text-gray-4\">\n                            <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: 'rgb(144, 237, 125)' }} />\n                            ติดสังคม\n                          </div>\n                          <div className=\"font-weight-bold font-size-18 text-dark\">{user.OK.toLocaleString()}</div>\n                        </div>\n                        <div className=\"mr-4 mb-2\">\n                          <div className=\"text-nowrap text-uppercase text-gray-4\">\n                            <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: 'rgb(247, 163, 92)' }} />\n                            ติดบ้าน\n                          </div>\n                          <div className=\"font-weight-bold font-size-18 text-dark\">{user.MID.toLocaleString()}</div>\n                        </div>\n                        <div className=\"mr-4 mb-2\">\n                          <div className=\"text-nowrap text-uppercase text-gray-4\">\n                            <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#FF4560' }} />\n                            ติดเตียง\n                          </div>\n                          <div className=\"font-weight-bold font-size-18 text-dark\">{user.VERYHI.toLocaleString()}</div>\n                        </div>\n                        <div className=\"mr-4 mb-2\">\n                          <div className=\"text-nowrap text-uppercase text-gray-4\">\n                            <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#333333' }} />\n                            ไม่ระบุ\n                          </div>\n                          <div className=\"font-weight-bold font-size-18 text-dark\">{user.UNKNOWN.toLocaleString()}</div>\n                        </div>\n                        {/* <div className=\"mr-4 mb-2\">\n                          <div className=\"text-nowrap text-uppercase text-gray-4\">\n                            <div className=\"air__utils__donut air__utils__donut--success\" />\n                            จำนวนทั้งหมด\n                          </div>\n                          <div className=\"font-weight-bold font-size-18 text-dark\">{user.total.toLocaleString()}</div>\n                        </div> */}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )\n        }\n      }\n    }\n    return (\n      <div>\n        {isLoaded}\n        <Helmet title=\"Dashboard: Analytics\" />\n      </div>\n    )\n  }\n}\n\nexport default DashboardAnalytics\n"],"sourceRoot":""}